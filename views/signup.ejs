<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sign Up</title>
  <link rel="stylesheet" href="/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" 
  integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">

</head>
<body>
  <%- include('partials/header') %>
  <div class="container-signup">
    <div class="form-container">
      <form action="/signup" method="post" onsubmit="return validatePasswords()">
        <h2>Sign Up</h2>

        <label for="username">Create a username</label>
        <input type="text" placeholder="Enter here" name="username" required>

        <label for="email">Enter your Email</label>
        <input type="email" placeholder="Mail here" name="email" required>

        <label for="password">Choose a strong password</label>
        <input type="password" name="password" id="myInput" required>

        <label for="confirm-password">Confirm your password</label>
        <input type="password" id="confirmInput" name="confirm-password" required>
        <div class="checkbox-div">
        <input type="checkbox" onclick="togglePassword()"> Show Password</div>
        <br><br>

        <input type="submit" value="Submit">
      </form>
    </div>
  </div>
  <%- include('partials/footer') %>
  <script>
    function togglePassword() {
      const pwd = document.getElementById("myInput");
      const confirm = document.getElementById("confirmInput");
      pwd.type = pwd.type === "password" ? "text" : "password";
      confirm.type = confirm.type === "password" ? "text" : "password";
    }

    function validatePasswords() {
      const pwd1 = document.getElementById("myInput").value;
      const pwd2 = document.getElementById("confirmInput").value;

      if (pwd1 !== pwd2) {
        alert("Passwords do not match. Please try again.");
        return false; // prevents form submission
      }
      return true; // allows form to submit
    }
  </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
</body>

</html>
